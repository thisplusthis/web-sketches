<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>1 / f</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
	<style>
		body {
			background-color:#302d2d;
			font-family:Courier;
			font-size:10px;
			margin:2px;
			padding:0;
		}
		.linenumber {
			color:#ff0000;
			background-color:#000;
			width:auto;
			display:inline;
		}
		p {
			color:#ccc;
			background-color:#000;
			display:inline;
		}
		p.spaces {
			white-space: pre;
		}
	</style>
</head>
<body>
  <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
  	<div id="data-container">
	</div>

  <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>
	<script>
		var blankspace = ' ';
		var blockchar = '&#9608;';
		var amplitude = 200;
		var offset = 30;
		var lines = 100;

		function randrange(max) {
			var min = 0;
			return Math.random() * (max - min) + min;
		}

		function generate_blocks(index) {
			var s = "";
			var rand = randrange(amplitude - offset);
			for (var i = 0; i < randrange(rand); i++) {
				s += blockchar;
			}
			return s
		}

		function generate_spaces(seed) {
			var s = "";
			var range = seed + randrange(amplitude);
			for (var i = 0; i < range; i++) {
				s += blankspace;
			}
			return s
		}

		function build() {
			var last_index = 0;
			var data = [];
			for (var i = 0; i < lines; i++) {
				seed = randrange(4);
				spaces = generate_spaces(last_index + seed);
				blocks = generate_blocks(i);
				chunk = "<div class='linenumber'>"+(i+1).toString()+".</div><p class='spaces'>"+spaces.toString()+"</p><p>"+blocks.toString()+"</p><br>";
				last_index = seed;
				data.push(chunk);
			}
			return data
		}

		$(function() {
			var data = build();
			console.log("data: " + data);
			$("#data-container").html(data);
			$('.spaces').hover(function() {
				$(this).html('');
			});
		});
	</script>
</body>
</html>
